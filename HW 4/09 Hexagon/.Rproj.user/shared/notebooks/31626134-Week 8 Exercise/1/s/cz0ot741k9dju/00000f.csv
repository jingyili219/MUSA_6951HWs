"0","hex <- st_read('us_states_hexgrid/us_states_hexgrid/us_states_hexgrid.shp')"
"1","Reading layer `"
"1","us_states_hexgrid"
"1","' from data source "
"1","
"
"1","  "
"1","`"
"1","C:\Users\Jingyi's lenovo\Desktop\Penn\Fall 2023\MUSA 6951\Week 8\us_states_hexgrid\us_states_hexgrid\us_states_hexgrid.shp"
"1","' "
"1","
"
"1","  "
"1","using driver `"
"1","ESRI Shapefile"
"1","'"
"1","
"
"1","Simple feature collection with 51 features and 7 fields"
"1","
"
"1","Geometry type: POLYGON
"
"1","Dimension:     XY
"
"1","Bounding box:  "
"1","xmin: -137.9747 ymin: 26.39343 xmax: -69.90286 ymax: 55.3132"
"1","
"
"1","Geodetic CRS:  WGS 84
"
"0","hex_crs <- st_crs(hex)"
"0",""
"0","joined_wgs <- st_transform(joined, hex_crs)"
"0",""
"0",""
"0","##summarize number of appearances by state"
"0","sum_appear <- joined %>% group_by(STATE)%>%summarize(total_appearances= sum(Appear))%>%st_drop_geometry(sum_appear)"
"0","##join to hex"
"0","#rename field"
"0","hex <- hex %>% rename('STATE' = 'iso3166_2')"
"0","hex_joined <- left_join(hex, sum_appear)"
"2","Joining with `by = join_by(STATE)`"
